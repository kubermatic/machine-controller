---
presubmits:
  - name: pull-machine-controller-e2e-kubevirt
    always_run: true
    decorate: true
    error_on_eviction: true
    clone_uri: "ssh://git@github.com/kubermatic/machine-controller.git"
    max_concurrency: 1
    labels:
      preset-kubevirt: "true"
      preset-hetzner: "true"
      preset-e2e-ssh: "true"
      preset-rhel: "true"
      preset-goproxy: "true"
    spec:
      containers:
        - image: golang:1.15.1
          command:
            - "./hack/ci-e2e-test.sh"
          args:
            - "TestKubevirtProvisioningE2E"
          resources:
            requests:
              memory: 1Gi
              cpu: 500m

  - name: pull-machine-controller-e2e-kubevirt-dns-config
    always_run: true
    decorate: true
    error_on_eviction: true
    clone_uri: "ssh://git@github.com/kubermatic/machine-controller.git"
    max_concurrency: 1
    labels:
      preset-kubevirt: "true"
      preset-hetzner: "true"
      preset-e2e-ssh: "true"
      preset-rhel: "true"
      preset-goproxy: "true"
    spec:
      containers:
        - image: golang:1.15.1
          command:
            - "./hack/ci-e2e-test.sh"
          args:
            - "TestKubevirtDNSConfigProvisioningE2E"
          resources:
            requests:
              memory: 1Gi
              cpu: 500m
